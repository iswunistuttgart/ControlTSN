<tsn-uni xmlns="urn:isw:controltsn">
  <modules>
    <mod>
        <id>1</id>
        <name>REST</name>
        <desc>Exposes a REST API to interact with the framework</desc>
        <executable-path>./RESTModule</executable-path>
        <subscribed-events-mask>65535</subscribed-events-mask>
        <registered>1</registered>
        <pid>0</pid>
      </mod>
      <mod>
        <id>2</id>
        <name>CUC</name>
        <desc>Represents the Central User Controller in the network based on the central configuration approach of TSN</desc>
        <executable-path>./CUCModule</executable-path>
        <subscribed-events-mask>196645</subscribed-events-mask>
        <registered>1</registered>
        <pid>0</pid>
        <data>
          <entry>
            <data-name>cnc_url</data-name>
            <data-type>string</data-type>
            <data-value>http://localhost:11067</data-value>
          </entry>
        </data>
      </mod>
      <mod>
        <id>3</id>
        <name>Monitor</name>
        <desc>This module monitors the network including the streams and their latency, synchronization etc.</desc>
        <executable-path>./MonitorModule</executable-path>
        <subscribed-events-mask>203567</subscribed-events-mask>
        <registered>1</registered>
        <pid>0</pid>
      </mod>
      <mod>
        <id>4</id>
        <name>Container</name>
        <desc>This module performs the application deployment to the enddevices.</desc>
        <executable-path>./ContainerModule</executable-path>
        <subscribed-events-mask>251658240</subscribed-events-mask>
        <registered>1</registered>
        <pid>0</pid>
        <data>
          <entry>
            <data-name>registry_url</data-name>
            <data-type>string</data-type>
            <data-value>http://containerregistry:5000</data-value>
          </entry>
          <entry>
            <!--
                Access to the Kubernetes control plane has to be
                authenticated. Only authorized users are allowed to perform
                meaningful cluster actions. Therefore, we use `kubectl proxy`.
                It establishes a channel to the cluster and we can use
                localhost as communication endpoint without worrying about
                authentication.
            -->
            <data-name>kubernetes_url</data-name>
            <data-type>string</data-type>
            <data-value>http://localhost:8001</data-value>
          </entry>
        </data>
      </mod>
  </modules>
  <application>
    <apps>
      <app>
        <id>Talker_0.0.1</id>
        <name>Talker</name>
        <desc>Talker Application Dummy</desc>
        <version>0.0.1</version>
        <has-image>1</has-image>
        <image-ref>TalkerImage_0.0.1</image-ref>
        <has-mac>1</has-mac>
        <mac>00-00-00-00-00-01</mac>
      </app>
      <app>
        <id>Listener_0.0.1</id>
        <name>Listener</name>
        <desc>Listener Application Dummy</desc>
        <version>0.0.1</version>
        <has-image>1</has-image>
        <image-ref>ListenerImage_0.0.1</image-ref>
        <has-mac>1</has-mac>
        <mac>00-00-00-00-00-02</mac>
      </app>
    </apps>
    <images>
      <image>
        <id>TalkerImage_0.0.1</id>
        <name>TalkerImage</name>
        <desc>Talker Image Dummy</desc>
        <version>0.0.1</version>
      </image>
      <image>
        <id>ListenerImage_0.0.1</id>
        <name>ListenerImage</name>
        <desc>Listener Image Dummy</desc>
        <version>0.0.1</version>
      </image>
    </images>
  </application>
  <topology>
    <devices>
      <enddevices>
        <enddevice>
          <mac>00-00-00-00-00-01</mac>
          <has-app>1</has-app>
          <apps>
            <app><app-ref>Talker_0.0.1</app-ref></app>
          </apps>
        </enddevice>
        <enddevice>
          <mac>00-00-00-00-00-02</mac>
          <has-app>1</has-app>
          <apps>
            <app><app-ref>Listener_0.0.1</app-ref></app>
          </apps>
        </enddevice>
      </enddevices>
      <switches>
        <switch>
          <mac>01-02-03-04-05-06</mac>
          <ports-count>56</ports-count>
        </switch>
      </switches>
    </devices>
    <graph>
      <connections>
        <connection>
          <id>1</id>
          <from-mac>00-00-00-00-00-01</from-mac>
          <from-port>1</from-port>
          <to-mac>01-02-03-04-05-06</to-mac>
          <to-port>1</to-port>
        </connection>
        <connection>
          <id>2</id>
          <from-mac>01-02-03-04-05-06</from-mac>
          <from-port>2</from-port>
          <to-mac>00-00-00-00-00-02</to-mac>
          <to-port>1</to-port>
        </connection>
      </connections>
    </graph>
  </topology>
</tsn-uni>
